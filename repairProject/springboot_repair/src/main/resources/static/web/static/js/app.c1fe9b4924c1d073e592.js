webpackJsonp([1],{"0PnS":function(e,t){},"0tqt":function(e,t){},"2Ziz":function(e,t){},NFa4:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),i=a("zL8q"),r=a.n(i),o=(a("tvR6"),{render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]});var s=a("VU/8")({name:"App"},o,!1,function(e){a("Tl9S")},null,null).exports,l=a("/ocq"),c=a("mvHQ"),u=a.n(c),m=a("mtWM"),d=a.n(m),p=function(e,t,a){return d()({method:e,url:t,headers:{"Content-Type":"application/x-www-form-urlencoded",token:localStorage.getItem("logintoken")},data:a,traditional:!0,transformRequest:[function(e){var t="";for(var a in e)t+=encodeURIComponent(a)+"="+encodeURIComponent(e[a])+"&";return t}]}).then(function(e){return e.data})},g=function(e){return function(e,t,a){return d()({method:e,url:t,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:a,traditional:!0,transformRequest:[function(e){var t="";for(var a in e)t+=encodeURIComponent(a)+"="+encodeURIComponent(e[a])+"&";return t}]}).then(function(e){return e.data})}("post","/user/adminLogin",e)},f=function(){return p("get","/user/getRoleList",{})},h={name:"login",data:function(){return{logining:!1,ruleForm:{userName:"",password:"",randomStr:""},rules:{userName:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{getuserpwd:function(){""!=getCookie("user")&&""!=getCookie("pwd")&&(this.ruleForm.userName=getCookie("user"),this.ruleForm.password=getCookie("pwd"),this.rememberpwd=!0)},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.getcode(),t.$message.error("请输入用户名密码！"),t.logining=!1,!1;t.logining=!0,console.log("--------"),g(t.ruleForm).then(function(e){if(console.log(e),200!=e.code)return t.$message.error(e.msg),t.logining=!1,!1;setTimeout(function(){t.logining=!1,localStorage.setItem("logintoken",e.data.token),localStorage.setItem("userdata",u()(e.data)),t.$router.push({path:"/repair/repairList"})},1e3)})})}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-wrap"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm login-container",attrs:{"label-position":"left",model:e.ruleForm,rules:e.rules,"label-width":"0px"}},[a("h3",{staticClass:"title"},[e._v("用户登录")]),e._v(" "),a("el-form-item",{attrs:{prop:"userName"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.ruleForm.userName,callback:function(t){e.$set(e.ruleForm,"userName",t)},expression:"ruleForm.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",t)},expression:"ruleForm.password"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%","margin-top":"15px"},attrs:{type:"primary",loading:e.logining},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("登录")])],1)],1)],1)},staticRenderFns:[]};var b=a("VU/8")(h,v,!1,function(e){a("dNM6")},null,null).exports,A={name:"navcon",data:function(){return{collapsed:!0,imgshow:a("gQKk"),imgsq:a("rWRm"),user:{}}},created:function(){this.user=JSON.parse(localStorage.getItem("userdata"))},methods:{exit:function(){var e=this;this.$confirm("退出登录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){p("get","/user/adminLogout",{}).then(function(t){if(200!=t.code)return e.$message.error(t.msg),e.logining=!1,!1;setTimeout(function(){e.$router.push({path:"/login"}),e.$message({type:"success",message:"已退出登录!"})},1e3)}).catch(function(t){e.getcode(),e.logining=!1,e.$message.error("退出失败，请稍后再试！")})}).catch(function(){e.$message({type:"info",message:"已取消"})})},toggle:function(e){this.collapsed=!e,this.$root.Bus.$emit("toggle",this.collapsed)}}},w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal","background-color":"#334157","text-color":"#fff","active-text-color":"#fff"}},[a("el-button",{staticClass:"buttonimg"},[a("img",{staticClass:"showimg",attrs:{src:e.collapsed?e.imgsq:e.imgshow},on:{click:function(t){return e.toggle(e.collapsed)}}})]),e._v(" "),a("el-submenu",{staticClass:"submenu",attrs:{index:"2"}},[a("template",{slot:"title"},[e._v("管理员")]),e._v(" "),a("el-menu-item",{attrs:{index:"2-3"},on:{click:function(t){return e.exit()}}},[e._v("退出")])],2)],1)},staticRenderFns:[]};var y={name:"leftnav",data:function(){return{collapsed:!1,allmenu:[]}},created:function(){var e=this;p("get","/user/getMenu",{}).then(function(t){if(console.log(t),200!=t.code)return e.$message.error(t.msg),!1;e.allmenu=t.data}).catch(function(t){e.$message.error("菜单加载失败，请稍后再试！")}),this.$root.Bus.$on("toggle",function(t){e.collapsed=!t})}},_={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{collapse:e.collapsed,"collapse-transition":"",router:"","default-active":this.$route.path,"unique-opened":"","background-color":"#334157","text-color":"#fff","active-text-color":"#ffd04b"}},[n("div",{staticClass:"logobox"},[n("img",{staticClass:"logoimg",attrs:{src:a("dLd/"),alt:""}})]),e._v(" "),e._l(e.allmenu,function(t){return n("el-menu-item",{key:t.id,attrs:{index:"/"+t.path}},[n("i",{staticClass:"iconfont",class:t.icon}),e._v(" "),n("span",[e._v(e._s(t.menuName))])])})],2)},staticRenderFns:[]};var k={name:"index",data:function(){return{showclass:"asideshow",showtype:!1}},components:{navcon:a("VU/8")(A,w,!1,function(e){a("sQrh")},"data-v-db3e9492",null).exports,leftnav:a("VU/8")(y,_,!1,function(e){a("0tqt")},null,null).exports},methods:{},created:function(){var e=this;this.$root.Bus.$on("toggle",function(t){t?e.showclass="asideshow":setTimeout(function(){e.showclass="aside"},300)})},beforeUpdate:function(){},beforeMount:function(){var e=this.$createElement;this.$notify({title:"登录成功",message:e("i",{style:"color: teal"},"欢迎您！！！")})}},F={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-container",{staticClass:"index-con"},[t("el-aside",{class:this.showclass},[t("leftnav")],1),this._v(" "),t("el-container",{staticClass:"main-con"},[t("el-header",{staticClass:"index-header"},[t("navcon")],1),this._v(" "),t("el-main",{attrs:{clss:"index-main"}},[t("router-view")],1)],1)],1)},staticRenderFns:[]};var x=a("VU/8")(k,F,!1,function(e){a("0PnS")},null,null).exports,I=a("Gu7T"),N=a.n(I),S={render:function(){var e=this.$createElement;return(this._self._c||e)("el-pagination",{staticClass:"page-box",attrs:{background:"","current-page":this.childMsg.currentPage,"page-sizes":[10,20,30,40],"page-size":this.childMsg.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:this.childMsg.total},on:{"size-change":this.handleSizeChange,"current-change":this.handleCurrentChange}})},staticRenderFns:[]};var z=a("VU/8")({name:"Pagination",props:["childMsg"],data:function(){return{pageparm:{currentPage:this.childMsg.currentPage,pageSize:this.childMsg.pageSize}}},created:function(){},methods:{handleSizeChange:function(e){this.pageparm.pageSize=e,this.$emit("callFather",this.pageparm)},handleCurrentChange:function(e){this.pageparm.currentPage=e,this.$emit("callFather",this.pageparm)}}},S,!1,function(e){a("NFa4")},null,null).exports,$={data:function(){return{loading:!1,editFormVisible:!1,title:"预览",classify:[{categoryName:"全部",id:0}],repairState:[{key:"全部",value:0},{key:"未处理",value:1},{key:"处理中",value:2},{key:"处理完成",value:3}],formInline:{pageNum:1,pageSize:10,liaisonName:"",liaisonPhone:"",state:0,classifyId:0,token:localStorage.getItem("logintoken")},listData:[],pageparm:{currentPage:1,pageSize:10,total:10}}},components:{Pagination:z},created:function(){this.getClassifyList(),this.getRepairList(this.formInline)},methods:{getRepairList:function(e){var t,a=this;this.loading=!0,(t=e,p("post","/repair/getList",t)).then(function(e){a.loading=!1,200!=e.code?a.$message({type:"info",message:e.msg}):(console.log(e),a.listData=e.data.items,a.pageparm.currentPage=a.formInline.pageNum,a.pageparm.pageSize=a.formInline.pageSize,a.pageparm.total=e.data.totalNum)}).catch(function(e){a.loading=!1,a.$message.error("菜单加载失败，请稍后再试！")})},search:function(){this.formInline.pageNum=1,this.getRepairList(this.formInline)},getClassifyList:function(){var e=this;this.loading=!0,p("get","/repair/getClassify").then(function(t){var a;(e.loading=!1,200!=t.code)?e.$message({type:"info",message:t.msg}):(console.log(t),(a=e.classify).push.apply(a,N()(t.data)))}).catch(function(t){e.loading=!1,e.$message.error("菜单加载失败，请稍后再试！")})},callFather:function(e){this.formInline.pageNum=e.currentPage,this.formInline.pageSize=e.pageSize,this.getRepairList(this.formInline)},deleteRow:function(e,t){var a=this;this.$confirm("确定要删除吗?","信息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e;(e=t.id,p("get","/repair/delete/"+e,{})).then(function(e){200==e.code?(a.$message({type:"success",message:"记录已删除!"}),a.getRepairList(a.formInline)):a.$message({type:"info",message:e.msg})}).catch(function(e){a.loading=!1,a.$message.error("报修记录删除失败，请稍后再试！")})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},setState:function(e,t){var a,n=this;if(e){var i=t.id+"/"+e;(a=i,p("get","/repair/upState/"+a,{})).then(function(e){200==e.code?(n.$message({type:"success",message:"处理成功!"}),n.getRepairList(n.formInline)):n.$message({type:"info",message:e.msg})}).catch(function(e){n.loading=!1,n.$message.error("处理失败，请稍后再试！")})}}}},C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/repair/repairList"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("报修列表")])],1),e._v(" "),a("el-form",{staticClass:"user-search",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"搜索："}},[a("el-input",{attrs:{size:"small",placeholder:"输入报修人姓名"},model:{value:e.formInline.liaisonName,callback:function(t){e.$set(e.formInline,"liaisonName",t)},expression:"formInline.liaisonName"}})],1),e._v(" "),a("el-form-item",[a("el-input",{attrs:{size:"small",placeholder:"输入联系电话"},model:{value:e.formInline.liaisonPhone,callback:function(t){e.$set(e.formInline,"liaisonPhone",t)},expression:"formInline.liaisonPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态："}},[a("el-select",{staticStyle:{width:"100px"},attrs:{size:"small",placeholder:"请选择"},model:{value:e.formInline.state,callback:function(t){e.$set(e.formInline,"state",t)},expression:"formInline.state"}},e._l(e.repairState,function(e){return a("el-option",{key:e.value,attrs:{label:e.key,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"分类："}},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"small",placeholder:"全部"},model:{value:e.formInline.classifyId,callback:function(t){e.$set(e.formInline,"classifyId",t)},expression:"formInline.classifyId"}},e._l(e.classify,function(e){return a("el-option",{key:e.id,attrs:{label:e.categoryName,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{size:"small",data:e.listData,"highlight-current-row":"",border:"","element-loading-text":"拼命加载中"}},[a("el-table-column",{attrs:{sortable:"",prop:"liaisonName",label:"报修人",width:"130"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"liaisonPhone",label:"联系电话",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"describe",label:"报修内容",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"address",label:"地址描述",width:"300"}}),e._v(" "),a("el-table-column",{attrs:{sortable:"",prop:"createTime",label:"报修时间",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.createTime))]),e._v(" "),a("span")]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"left",prop:"editUser",label:"状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.state?a("el-tag",{attrs:{type:"",effect:"plain"}},[e._v("未处理")]):e._e(),e._v(" "),2==t.row.state?a("el-tag",{attrs:{type:"warning",effect:"plain"}},[e._v("处理中")]):e._e(),e._v(" "),3==t.row.state?a("el-tag",{attrs:{type:"success",effect:"plain"}},[e._v("完成")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.state?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return e.setState(2,t.row)}}},[e._v("去处理")]):e._e(),e._v(" "),2==t.row.state?a("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(a){return e.setState(3,t.row)}}},[e._v("完成")]):e._e(),e._v(" "),3==t.row.state?a("el-button",{attrs:{size:"mini",type:"success",disabled:""},on:{click:function(a){return e.setState(null,t.row)}}},[e._v("已完成")]):e._e(),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.deleteRow(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("Pagination",{attrs:{"child-msg":e.pageparm},on:{callFather:e.callFather}})],1)},staticRenderFns:[]};var R=a("VU/8")($,C,!1,function(e){a("WdTP")},null,null).exports,T={data:function(){return{nshow:!0,fshow:!1,loading:!1,title:"添加用户",isEditOrAdd:!0,editFormVisible:!1,editForm:{userId:"",userName:"",nickName:"",roleList:[],phonenumber:"",email:"",sex:"",userType:"1",token:localStorage.getItem("logintoken")},selectdata:[],rules:{userName:[{required:!0,message:"请输入用户名",trigger:"blur"}],nickName:[{required:!0,message:"请输入姓名",trigger:"blur"}],roleList:[{required:!0,message:"请选择角色",trigger:"blur"}],userType:[{required:!0,message:"请选择性",trigger:"blur"}],phonenumber:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1(3\d|47|5((?!4)\d)|7(0|1|[6-8])|8\d)\d{8,8}$/,required:!0,message:"请输入正确的手机号",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{pattern:/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,required:!0,message:"请输入正确的邮箱",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"blur"}]},formInline:{pageNum:1,pageSize:10,userName:"",phonenumber:"",status:"",userType:""},userData:[{roles:[{name:"11"}]}],checkmenu:[],saveroleId:"",pageparm:{currentPage:1,pageSize:10,total:10},allRoles:[]}},components:{Pagination:z},watch:{},created:function(){this.getdata(this.formInline),this.getRoleData()},methods:{getRoleData:function(){var e=this;f().then(function(t){e.loading=!0,f().then(function(t){e.loading=!1,200!=t.code?e.$message({type:"info",message:t.msg}):(console.log(t),e.allRoles=t.data)})})},getdata:function(e){var t,a=this;this.loading=!0,(t=e,p("post","/user/getUserList",t)).then(function(e){a.loading=!1,200!=e.code?a.$message({type:"info",message:e.msg}):(console.log(e.data),a.userData=e.data.items,a.pageparm.currentPage=a.formInline.pageNum,a.pageparm.pageSize=a.formInline.pageSize,a.pageparm.total=e.data.totalNum)})},callFather:function(e){this.formInline.pageNum=e.currentPage,this.formInline.pageNum=e.pageSize,this.getdata(this.formInline)},search:function(){this.formInline.pageNum=1,this.getdata(this.formInline)},editType:function(e,t){var a=this;this.loading=!0;var n={lock:"",userId:"",token:localStorage.getItem("logintoken")};n.userId=t.userId;var i,r=t.status;n.lock=1==r?0:1,(i=t.id,p("get","/user/setStatus/"+i,{})).then(function(e){a.loading=!1,200!=e.code?a.$message({type:"info",message:e.msg}):(a.$message({type:"success",message:"状态修改成功"}),a.getdata(a.formInline))})},handleEdit:function(e,t){if(this.editFormVisible=!0,void 0!=t&&"undefined"!=t){for(var a=[],n=0;n<t.roles.length;n++)a.push(t.roles[n].id);this.editForm.roleList=a,this.isEditOrAdd=!0,this.title="修改用户",this.editForm.userId=t.id,this.editForm.userName=t.userName,this.editForm.nickName=t.nickName,this.editForm.phonenumber=t.phonenumber,this.editForm.email=t.email,this.editForm.sex=t.sex+""}else this.isEditOrAdd=!1,this.title="添加用户",this.editForm.userId="",this.editForm.userName="",this.editForm.nickName="",this.editForm.phonenumber="",this.editForm.email="",this.editForm.sex=""},submitForm:function(e){var t=this;console.log(e),this.$refs[e].validate(function(e){if(!e)return!1;var a;(a=t.editForm,p("post","/user/addUser/",a)).then(function(e){t.editFormVisible=!1,t.loading=!1,200==e.code?(t.getdata(t.formInline),t.$message({type:"success",message:"数据保存成功！"})):t.$message({type:"info",message:e.msg})}).catch(function(e){t.editFormVisible=!1,t.loading=!1,t.$message.error("保存失败，请稍后再试！")})})},closeDialog:function(e){"edit"==e&&(this.editFormVisible=!1)},deleteUser:function(e,t){var a=this;this.$confirm("确定要删除吗?","信息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var n;console.log("index"+e),console.log(t.id),(n=t.id,p("get","/user/delete/"+n,{})).then(function(e){200==e.code?(a.$message({type:"success",message:"数据已删除!"}),a.getdata(a.formInline)):a.$message({type:"info",message:e.msg})}).catch(function(e){a.loading=!1,a.$message.error("数据删除失败，请稍后再试！")})}).catch(function(){a.$message({type:"info",message:"已取消删除！"})})},resetpwd:function(e,t){var a=this,n=t.id;this.$confirm("确定要重置密码吗?","信息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e;(e=n,p("get","/user/resetPwd/"+e,{})).then(function(e){200==e.code?(a.$message({type:"success",message:"重置密码成功！"}),a.getdata(a.formInline)):a.$message({type:"info",message:e.msg})}).catch(function(e){a.loading=!1,a.$message.error("重置密码失败，请稍后再试！")})}).catch(function(){a.$message({type:"info",message:"取消重置密码！"})})}}},B={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/repair/repairList"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("用户管理")])],1),e._v(" "),a("el-form",{staticClass:"user-search",attrs:{inline:!0,model:e.formInline}},[a("el-form-item",{attrs:{label:"用户状态："}},[a("el-select",{staticStyle:{width:"105px"},attrs:{size:"small",placeholder:"请选择"},model:{value:e.formInline.status,callback:function(t){e.$set(e.formInline,"status",t)},expression:"formInline.status"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"正常",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"已锁定",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{size:"small",placeholder:"输入用户名"},model:{value:e.formInline.userName,callback:function(t){e.$set(e.formInline,"userName",t)},expression:"formInline.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{size:"small",placeholder:"输入手机号"},model:{value:e.formInline.phonenumber,callback:function(t){e.$set(e.formInline,"phonenumber",t)},expression:"formInline.phonenumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户类型："}},[a("el-select",{staticStyle:{width:"105px"},attrs:{size:"small",placeholder:"请选择"},model:{value:e.formInline.userType,callback:function(t){e.$set(e.formInline,"userType",t)},expression:"formInline.userType"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"管理员",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"普通用户",value:"1"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.handleEdit()}}},[e._v("添加")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{size:"small",data:e.userData,"highlight-current-row":"",border:"","element-loading-text":"拼命加载中"}},[a("el-table-column",{attrs:{align:"center",sortable:"",prop:"userName",label:"用户名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",sortable:"",prop:"nickName",label:"姓名",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",sortable:"",prop:"phonenumber",label:"手机号",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",sortable:"",prop:"sex",label:"性别","min-width":"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(1==t.row.sex?"女":"男"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",sortable:"",prop:"email",label:"邮件","min-width":"120"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",sortable:"",prop:"updateTime",label:"修改时间","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.updateTime))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",sortable:"",prop:"status",label:"状态","min-width":"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){return e.editType(t.$index,t.row)}},model:{value:1==t.row.status?e.fshow:e.nshow,callback:function(a){e.$set(t.row,"status == 1 ? fshow : nshow",a)},expression:"scope.row.status == 1 ? fshow : nshow"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",sortable:"",prop:"roles",label:"用户权限",width:"170"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.roles,function(t,n){return a("el-tag",{key:n,staticStyle:{margin:"0 2px"},attrs:{effect:"plain",type:"",size:"mini"}},[e._v(e._s(t.name))])})}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.deleteUser(t.$index,t.row)}}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return e.resetpwd(t.$index,t.row)}}},[e._v("重置密码")])]}}])})],1),e._v(" "),a("Pagination",{attrs:{"child-msg":e.pageparm},on:{callFather:e.callFather}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.editFormVisible,width:"33%"},on:{"update:visible":function(t){e.editFormVisible=t},click:function(t){return e.closeDialog("edit")}}},[a("el-form",{ref:"editForm",attrs:{"label-width":"110px",model:e.editForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[a("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入用户名",disabled:e.isEditOrAdd},model:{value:e.editForm.userName,callback:function(t){e.$set(e.editForm,"userName",t)},expression:"editForm.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"姓名",prop:"nickName"}},[a("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入姓名"},model:{value:e.editForm.nickName,callback:function(t){e.$set(e.editForm,"nickName",t)},expression:"editForm.nickName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色",prop:"roleList"}},[a("el-checkbox-group",{model:{value:e.editForm.roleList,callback:function(t){e.$set(e.editForm,"roleList",t)},expression:"editForm.roleList"}},e._l(e.allRoles,function(t){return a("el-checkbox-button",{key:t.id,attrs:{label:t.id}},[e._v(e._s(t.name))])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否为管理员",prop:"userType"}},[a("el-radio",{attrs:{label:"0"},model:{value:e.editForm.userType,callback:function(t){e.$set(e.editForm,"userType",t)},expression:"editForm.userType"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.editForm.userType,callback:function(t){e.$set(e.editForm,"userType",t)},expression:"editForm.userType"}},[e._v("否")])],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"phonenumber"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入手机号"},model:{value:e.editForm.phonenumber,callback:function(t){e.$set(e.editForm,"phonenumber",t)},expression:"editForm.phonenumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮件",prop:"email"}},[a("el-input",{attrs:{size:"small",placeholder:"请输入邮箱地址"},model:{value:e.editForm.email,callback:function(t){e.$set(e.editForm,"email",t)},expression:"editForm.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-radio",{attrs:{label:"0"},model:{value:e.editForm.sex,callback:function(t){e.$set(e.editForm,"sex",t)},expression:"editForm.sex"}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:"1"},model:{value:e.editForm.sex,callback:function(t){e.$set(e.editForm,"sex",t)},expression:"editForm.sex"}},[e._v("女")])],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.closeDialog("edit")}}},[e._v("取消")]),e._v(" "),a("el-button",{staticClass:"title",attrs:{size:"small",type:"primary",loading:e.loading},on:{click:function(t){return e.submitForm("editForm")}}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]};var V=a("VU/8")(T,B,!1,function(e){a("2Ziz")},"data-v-214f7b02",null).exports,U={data:function(){return{loading:!1,addVisible:!1,detailVisible:!1,noticDetail:{title:"",content:""},tableData:[{createTime:"",title:"",content:""}],addForm:{title:"",content:""}}},created:function(){this.getData()},methods:{isShow:function(e){"detail"==e?this.detailVisible=!0:"add"==e&&(this.addVisible=!0)},getData:function(){var e=this;this.loading=!0,p("get","/notice/findAll",{}).then(function(t){console.log(t.data),e.loading=!1,200==t.code?e.tableData=t.data:e.$message({type:"info",message:t.msg})}).catch(function(t){e.loading=!1,e.$message.error("加载失败，请稍后再试！")})},deleteRow:function(e,t){var a=this;this.$confirm("确定要删除吗?","信息",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var e;(e=t.id,p("get","/notice/delete/"+e,{})).then(function(e){200==e.code?(a.$message({type:"success",message:"删除成功"}),a.getData()):a.$message({type:"info",message:e.msg})}).catch(function(e){a.$message.error("删除失败，请稍后再试！")})}).catch(function(){a.$message({type:"info",message:"已取消删除！"})})},lookDetail:function(e,t){this.detailVisible=!0,void 0!=t&&"undefined"!=t&&(this.noticDetail.title=t.title,this.noticDetail.content=t.content)},add:function(e){var t,a=this;console.log(this.addForm),(t=this.addForm,p("post","/notice/add/",t)).then(function(e){a.addVisible=!1,200==e.code?(a.$message({type:"success",message:"添加成功！"}),a.getData()):a.$message({type:"info",message:e.msg})}).catch(function(e){a.addVisible=!1,a.$message.error("添加失败，请稍后再试！")})}}},E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticStyle:{margin:"20px 0"},attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/repair/repairList"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",[e._v("公告管理")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"singleTable",staticStyle:{width:"100%"},attrs:{border:"",data:e.tableData,"highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{property:"createTime",label:"发布日期",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"title",label:"标题",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{"show-overflow-tooltip":"","min-width":"200px",property:"content",label:"内容"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",align:"center",label:"操作","min-width":"80px"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.isShow("add")}}},[e._v("添加")])]}},{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.lookDetail(t.$index,t.row)}}},[e._v("查看")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.deleteRow(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",e._b({attrs:{title:"公告内容",visible:e.detailVisible},on:{"update:visible":function(t){e.detailVisible=t}}},"el-dialog",e.noticDetail,!1),[a("el-card",{staticClass:"box-card"},[a("h2",[e._v(e._s(e.noticDetail.title))]),e._v(" "),a("el-divider"),e._v(" "),a("p",[e._v(e._s(e.noticDetail.content))])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"内容",visible:e.addVisible},on:{"update:visible":function(t){e.addVisible=t}}},[a("el-form",{ref:"addForm",staticClass:"demo-ruleForm",attrs:{model:e.addForm,"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{type:"text",autocomplete:"off"},model:{value:e.addForm.title,callback:function(t){e.$set(e.addForm,"title",t)},expression:"addForm.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"内容",prop:"content"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.addForm.content,callback:function(t){e.$set(e.addForm,"content",t)},expression:"addForm.content"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add("addForm")}}},[e._v("提交")])],1)],1)],1)],1)},staticRenderFns:[]};var q=a("VU/8")(U,E,!1,function(e){a("hnNJ")},null,null).exports;n.default.use(l.a);var D=new l.a({base:"/web",routes:[{path:"/",name:"",component:b},{path:"/login",name:"登录界面",component:b},{path:"/index",name:"首页",component:x,children:[{path:"/repair/repairList",name:"报修列表页",component:R},{path:"/system/user",name:"用户管理页",component:V},{path:"/notice/notice",name:"公告页",component:q}]}]});n.default.use(r.a),n.default.prototype.$axios=d.a,d.a.defaults.baseURL="http://localhost:8080",n.default.config.productionTip=!1,new n.default({el:"#app",router:D,components:{App:s},template:"<App/>",data:{Bus:new n.default}})},Tl9S:function(e,t){},WdTP:function(e,t){},"dLd/":function(e,t){e.exports="data:image/png;base64,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"},dNM6:function(e,t){},gQKk:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA/0lEQVRYR+2W6w2CQBCEZyqRDrQEO9ASLAE7sAO1A+kAK1A7wA6wA61gzSVH4uPgbgMHJrK/l5kv++KIgYMD+2ME+KqAiKQAFpFacyS5e9V2ASwBzCIBFCTzRoBIxrWy4xCOFWhVARFJAEwUg3sjWfrW0Kxg8rkuLhN7M7YKgIzkygcwB3ACcAawJlkoDNSprkNUAVRiBwtyV6sHfBACYGSM+YbkPkBTlRIK8LAAb3dc5VSTHAKQAUhJ9t6CizXufQiHXUNNX+0hMscoNErvIQpV6iqv1SnuAmIE+L0KiIh5lE676K9D4+p9lNpfrIGIEbn3WR7DtUnz92bg7yrwBOSXVCGtUZf9AAAAAElFTkSuQmCC"},hnNJ:function(e,t){},rWRm:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA80lEQVRYR+1W2xVBMRCcqYAO6IASqIASdEAHdEALOrg6UAIdUMk4e04+4rivuJL4yH4nO7OzTyKzMTM+CoEPBSTtAKwipeZC8uT7riOwBjCPROBGsmolEAm40W0pwqLAIAUkTQFMAgr3SfLxVRdIWgB4+A7czDgGEDiT3AQRcFEaiM2HJclrAGDn08YUSBoD2AI4eF7SEJBkMlnURsK3pARsZo+yEDBQlwJbTPvkKfCjdkVoatiGTJOCutLN1oZtfeTUsWHU197miH0aNAn7ora9KwSKAk1H6ewXBVbj4955lLoVa5svhlWdZ3kM1NKGf63ACzUdUCHpu3IjAAAAAElFTkSuQmCC"},sQrh:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.c1fe9b4924c1d073e592.js.map